<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.313">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2023-02-20">

<title>IS415 Journey - Take Home Ex 2</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">IS415 Journey</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-in-class-exercises" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">In-Class Exercises</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-in-class-exercises">    
        <li>
    <a class="dropdown-item" href="../../inclass_ex/inclass_ex02/In-class_Ex02.html">
 <span class="dropdown-text">In-Class Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../inclass_ex/inclass_ex03/inclass_ex03.html">
 <span class="dropdown-text">In-Class Exercise 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../inclass_ex/inclass_ex04/inclass_ex04.html">
 <span class="dropdown-text">In-Class Exercise 4</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../inclass_ex/inclass_ex05/inclass_ex05.html">
 <span class="dropdown-text">In-Class Exercise 5</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../inclass_ex/inclass_ex06/inclass_ex06.html">
 <span class="dropdown-text">In-Class Exercise 6</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../inclass_ex/inclass_ex07/inclass_ex07.html">
 <span class="dropdown-text">In-Class Exercise 7</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-hands-on-exercises" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Hands-On Exercises</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-hands-on-exercises">    
        <li>
    <a class="dropdown-item" href="../../handson_ex/handson_ex02/handson_ex02.html">
 <span class="dropdown-text">Hands-On Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../handson_ex/handson_ex03/handson_ex03.html">
 <span class="dropdown-text">Hands-On Exercise 3</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../handson_ex/handson_ex04a/handson_ex04a.html">
 <span class="dropdown-text">Hands-On Exercise 4a</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../handson_ex/handson_ex04b/handson_ex04b.html">
 <span class="dropdown-text">Hands-On Exercise 4b</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../handson_ex/handson_ex07a/handson_ex07a.html">
 <span class="dropdown-text">Hands-On Exercise 7a (NEW!)</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../handson_ex/handson_ex07b/handson_ex07b.html">
 <span class="dropdown-text">Hands-On Exercise 7b (NEW!)</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-take-home-exercises" role="button" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Take-Home Exercises</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-take-home-exercises">    
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html">
 <span class="dropdown-text">Take-Home Exercise 1</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex02/Take-home_Ex002.qmd">
 <span class="dropdown-text">Take-Home Exercise 2</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../Take-home_Ex/Take-home_Ex03/Take-home_Ex03.qmd">
 <span class="dropdown-text">Take-Home Exercise 3</span></a>
  </li>  
    </ul>
  </li>
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#questions" id="toc-questions" class="nav-link active" data-scroll-target="#questions">Questions</a></li>
  <li><a href="#load-r-packages" id="toc-load-r-packages" class="nav-link" data-scroll-target="#load-r-packages">Load R packages</a></li>
  <li><a href="#getting-started" id="toc-getting-started" class="nav-link" data-scroll-target="#getting-started">Getting started</a></li>
  <li><a href="#import-data-and-preparation" id="toc-import-data-and-preparation" class="nav-link" data-scroll-target="#import-data-and-preparation">Import data and preparation</a></li>
  <li><a href="#exploratory-data-analysis-eda" id="toc-exploratory-data-analysis-eda" class="nav-link" data-scroll-target="#exploratory-data-analysis-eda">Exploratory Data Analysis (EDA)</a>
  <ul class="collapse">
  <li><a href="#joining-the-attribute-data-and-geospatial-data" id="toc-joining-the-attribute-data-and-geospatial-data" class="nav-link" data-scroll-target="#joining-the-attribute-data-and-geospatial-data">Joining the attribute data and geospatial data</a></li>
  </ul></li>
  <li><a href="#choropleth-mapping-geospatial-data-using-tmap" id="toc-choropleth-mapping-geospatial-data-using-tmap" class="nav-link" data-scroll-target="#choropleth-mapping-geospatial-data-using-tmap">Choropleth Mapping Geospatial Data using tmap</a>
  <ul class="collapse">
  <li><a href="#population-choropleth-map" id="toc-population-choropleth-map" class="nav-link" data-scroll-target="#population-choropleth-map">Population choropleth map</a></li>
  <li><a href="#visualizing-dose-1-to-3" id="toc-visualizing-dose-1-to-3" class="nav-link" data-scroll-target="#visualizing-dose-1-to-3">Visualizing Dose 1 to 3</a></li>
  <li><a href="#visualizing-overall-vaccination-rate" id="toc-visualizing-overall-vaccination-rate" class="nav-link" data-scroll-target="#visualizing-overall-vaccination-rate">Visualizing Overall Vaccination rate</a></li>
  </ul></li>
  <li><a href="#local-gi-analysis" id="toc-local-gi-analysis" class="nav-link" data-scroll-target="#local-gi-analysis">Local Gi Analysis</a>
  <ul class="collapse">
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section"></a></li>
  <li><a href="#mapping-local-gi-with-sig-0.5" id="toc-mapping-local-gi-with-sig-0.5" class="nav-link" data-scroll-target="#mapping-local-gi-with-sig-0.5">Mapping Local Gi with sig &lt; 0.5</a></li>
  <li><a href="#create-functions-and-maps" id="toc-create-functions-and-maps" class="nav-link" data-scroll-target="#create-functions-and-maps">Create functions and Maps</a></li>
  <li><a href="#hot-and-cold-spot-for-local-gi" id="toc-hot-and-cold-spot-for-local-gi" class="nav-link" data-scroll-target="#hot-and-cold-spot-for-local-gi">Hot and Cold Spot for Local Gi</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Take Home Ex 2</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 20, 2023</p>
    </div>
  </div>
  
    <div>
    <div class="quarto-title-meta-heading">Modified</div>
    <div class="quarto-title-meta-contents">
      <p class="date-modified">March 1, 2023</p>
    </div>
  </div>
    
  </div>
  

</header>

<section id="questions" class="level1">
<h1>Questions</h1>
<p>“The question is where are the <strong>sub-districts</strong> with <strong>relatively higher number of vaccination</strong> rate and <strong>how they changed over time</strong>.”</p>
</section>
<section id="load-r-packages" class="level1">
<h1>Load R packages</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>pacman<span class="sc">::</span><span class="fu">p_load</span>(dplyr, sf, spdep, tmap, tidyverse, readxl, ggplot2,moments,plotly, sfdep)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="getting-started" class="level1">
<h1>Getting started</h1>
<p>At first, I have loaded the beginning month of the data as shown below:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/pic1.png" class="img-fluid figure-img"></p>
</figure>
</div>
<p>However, July 2021 has only 21 variables. I decided to to further research. Based on research, there was a change in the category of vaccination recipient in DKI Jakarta starting from 4 July 2021 which they have mentioned on the website itself <a href="https://riwayat-file-vaksinasi-dki-jakarta-jakartagis.hub.arcgis.com/">here</a>. Hence, I have decided to change the data to end of the month for easier analysis.</p>
</section>
<section id="import-data-and-preparation" class="level1">
<h1>Import data and preparation</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>jul<span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/aspatial/Juli 2021.xlsx"</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>aug21<span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/aspatial/Agustus 2021.xlsx"</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>sep21<span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/aspatial/September 2021.xlsx"</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>oct21<span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/aspatial/Oktober 2021.xlsx"</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>nov21<span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/aspatial/November 2021.xlsx"</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>dec21<span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/aspatial/Desember 2021.xlsx"</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>jan22<span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/aspatial/Januari 2022.xlsx"</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>feb22<span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/aspatial/Februari 2022.xlsx"</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>mar22<span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/aspatial/Maret 2022.xlsx"</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>apr22<span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/aspatial/April 2022.xlsx"</span>)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>may22<span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/aspatial/Mei 2022.xlsx"</span>)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>jun22<span class="ot">&lt;-</span> <span class="fu">read_excel</span>(<span class="st">"data/aspatial/Juni 2022.xlsx"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/pic2.png" class="img-fluid figure-img"></p>
</figure>
</div>
<p>After analyzing the dataset, there are different number of variables.</p>
<ol type="1">
<li>Jul 2021 to Feb 2022: <strong>27 variables</strong></li>
<li>March 2022 to June 2022: <strong>34 variables</strong></li>
</ol>
<p>The additional columns include categories such as TAHAPAN and REMAJA which means General Public and Children Age 12-17 respectively and also introduces the 3rd dose for all the categories.</p>
<p>In the section below, I decided to take total dose 1 to dose 3 value for all categories and compare them for exploratory purposes.</p>
<p>Columns to keep:</p>
<ul>
<li><p>KODE KELURAHAN = SUB DISTRICT CODE</p></li>
<li><p>WILATAH KOTA = NSEW REGION</p></li>
<li><p>KECAMATAN = DISTRICT</p></li>
<li><p>KELURAHAN = SUB DISTRICT</p></li>
<li><p>SASARAN = TARGETED VACCINE</p></li>
<li><p>BELUM VAKSIN = NOT YET VACCINATED</p></li>
<li><p>JUMLAH DOSIS 1 = TOTAL AMOUNT OF DOSE 1 GIVEN</p></li>
<li><p>JUMLAH DOSIS 2 = TOTAL AMOUNT OF DOSE 2 GIVEN</p></li>
<li><p>JUMLAH DOSIS 3 = TOTAL AMOUNT OF DOSE 3 GIVEN</p></li>
<li><p>TOTAL VAKSIN DIBERIKAN = TOTAL VACCINE GIVEN</p></li>
</ul>
<p>Change column name:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(jul)[<span class="dv">6</span>] <span class="ot">=</span><span class="st">"NotYetV_jul21"</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(jul)[<span class="dv">7</span>] <span class="ot">=</span><span class="st">"D1_jul21"</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(jul)[<span class="dv">8</span>] <span class="ot">=</span><span class="st">"D2_jul21"</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(jul)[<span class="dv">9</span>] <span class="ot">=</span><span class="st">"TotalV_jul21"</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>jul21<span class="ot">&lt;-</span>jul[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">10</span><span class="sc">:</span><span class="dv">27</span>)]</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(aug21)[<span class="dv">6</span>] <span class="ot">=</span><span class="st">"NotYetV_aug21"</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(aug21)[<span class="dv">7</span>] <span class="ot">=</span><span class="st">"D1_aug21"</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(aug21)[<span class="dv">8</span>] <span class="ot">=</span><span class="st">"D2_aug21"</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(aug21)[<span class="dv">9</span>] <span class="ot">=</span><span class="st">"TotalV_aug21"</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>aug21<span class="ot">&lt;-</span>aug21[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">10</span><span class="sc">:</span><span class="dv">27</span>)]</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(sep21)[<span class="dv">6</span>] <span class="ot">=</span><span class="st">"NotYetV_sep21"</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(sep21)[<span class="dv">7</span>] <span class="ot">=</span><span class="st">"D1_sep21"</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(sep21)[<span class="dv">8</span>] <span class="ot">=</span><span class="st">"D2_sep21"</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(sep21)[<span class="dv">9</span>] <span class="ot">=</span><span class="st">"TotalV_sep21"</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>sep21<span class="ot">&lt;-</span> sep21[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">10</span><span class="sc">:</span><span class="dv">27</span>)]</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(oct21)[<span class="dv">6</span>] <span class="ot">=</span><span class="st">"NotYetV_oct21"</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(oct21)[<span class="dv">7</span>] <span class="ot">=</span><span class="st">"D1_oct21"</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(oct21)[<span class="dv">8</span>] <span class="ot">=</span><span class="st">"D2_oct21"</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(oct21)[<span class="dv">9</span>] <span class="ot">=</span><span class="st">"TotalV_oct21"</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>oct21<span class="ot">&lt;-</span>oct21[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">10</span><span class="sc">:</span><span class="dv">27</span>)]</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(nov21)[<span class="dv">6</span>] <span class="ot">=</span><span class="st">"NotYetV_nov21"</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(nov21)[<span class="dv">7</span>] <span class="ot">=</span><span class="st">"D1_nov21"</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(nov21)[<span class="dv">8</span>] <span class="ot">=</span><span class="st">"D2_nov21"</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(nov21)[<span class="dv">9</span>] <span class="ot">=</span><span class="st">"TotalV_nov21"</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>nov21<span class="ot">&lt;-</span>nov21[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">10</span><span class="sc">:</span><span class="dv">27</span>)]</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(dec21)[<span class="dv">6</span>] <span class="ot">=</span><span class="st">"NotYetV_dec21"</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(dec21)[<span class="dv">7</span>] <span class="ot">=</span><span class="st">"D1_dec21"</span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(dec21)[<span class="dv">8</span>] <span class="ot">=</span><span class="st">"D2_dec21"</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(dec21)[<span class="dv">9</span>] <span class="ot">=</span><span class="st">"TotalV_dec21"</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>dec21<span class="ot">&lt;-</span>dec21[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">10</span><span class="sc">:</span><span class="dv">27</span>)]</span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(jan22)[<span class="dv">6</span>] <span class="ot">=</span><span class="st">"NotYetV_jan21"</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(jan22)[<span class="dv">7</span>] <span class="ot">=</span><span class="st">"D1_jan22"</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(jan22)[<span class="dv">8</span>] <span class="ot">=</span><span class="st">"D2_jan22"</span></span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(jan22)[<span class="dv">9</span>] <span class="ot">=</span><span class="st">"TotalV_jan22"</span></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>jan22<span class="ot">&lt;-</span>jan22[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">10</span><span class="sc">:</span><span class="dv">27</span>)]</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(feb22)[<span class="dv">6</span>] <span class="ot">=</span><span class="st">"NotYetV_jan21"</span></span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(feb22)[<span class="dv">7</span>] <span class="ot">=</span><span class="st">"D1_feb22"</span></span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(feb22)[<span class="dv">8</span>] <span class="ot">=</span><span class="st">"D2_feb22"</span></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(feb22)[<span class="dv">9</span>] <span class="ot">=</span><span class="st">"TotalV_feb22"</span></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>feb22<span class="ot">&lt;-</span>feb22[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">10</span><span class="sc">:</span><span class="dv">27</span>)]</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(mar22)[<span class="dv">6</span>] <span class="ot">=</span><span class="st">"NotYetV_mar21"</span></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(mar22)[<span class="dv">7</span>] <span class="ot">=</span><span class="st">"D1_mar22"</span></span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(mar22)[<span class="dv">8</span>] <span class="ot">=</span><span class="st">"D2_mar22"</span></span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(mar22)[<span class="dv">9</span>] <span class="ot">=</span><span class="st">"D3_mar22"</span></span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(mar22)[<span class="dv">10</span>] <span class="ot">=</span><span class="st">"TotalV_mar22"</span></span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>mar22<span class="ot">&lt;-</span>mar22[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">11</span><span class="sc">:</span><span class="dv">34</span>)]</span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(apr22)[<span class="dv">6</span>] <span class="ot">=</span><span class="st">"NotYetV_apr21"</span></span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(apr22)[<span class="dv">7</span>] <span class="ot">=</span><span class="st">"D1_apr22"</span></span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(apr22)[<span class="dv">8</span>] <span class="ot">=</span><span class="st">"D2_apr22"</span></span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(apr22)[<span class="dv">9</span>] <span class="ot">=</span><span class="st">"D3_apr22"</span></span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(apr22)[<span class="dv">10</span>] <span class="ot">=</span><span class="st">"TotalV_apr22"</span></span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a>apr22<span class="ot">&lt;-</span>apr22[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">11</span><span class="sc">:</span><span class="dv">34</span>)]</span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(may22)[<span class="dv">6</span>] <span class="ot">=</span><span class="st">"NotYetV_may21"</span></span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(may22)[<span class="dv">7</span>] <span class="ot">=</span><span class="st">"D1_may22"</span></span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(may22)[<span class="dv">8</span>] <span class="ot">=</span><span class="st">"D2_may22"</span></span>
<span id="cb3-67"><a href="#cb3-67" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(may22)[<span class="dv">9</span>] <span class="ot">=</span><span class="st">"D3_may22"</span></span>
<span id="cb3-68"><a href="#cb3-68" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(may22)[<span class="dv">10</span>] <span class="ot">=</span><span class="st">"TotalV_may22"</span></span>
<span id="cb3-69"><a href="#cb3-69" aria-hidden="true" tabindex="-1"></a>may22<span class="ot">&lt;-</span>may22[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">11</span><span class="sc">:</span><span class="dv">34</span>)]</span>
<span id="cb3-70"><a href="#cb3-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-71"><a href="#cb3-71" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(jun22)[<span class="dv">6</span>] <span class="ot">=</span><span class="st">"NotYetV_jun21"</span></span>
<span id="cb3-72"><a href="#cb3-72" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(jun22)[<span class="dv">7</span>] <span class="ot">=</span><span class="st">"D1_jun22"</span></span>
<span id="cb3-73"><a href="#cb3-73" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(jun22)[<span class="dv">8</span>] <span class="ot">=</span><span class="st">"D2_jun22"</span></span>
<span id="cb3-74"><a href="#cb3-74" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(jun22)[<span class="dv">9</span>] <span class="ot">=</span><span class="st">"D3_jun22"</span></span>
<span id="cb3-75"><a href="#cb3-75" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(jun22)[<span class="dv">10</span>] <span class="ot">=</span><span class="st">"TotalV_jun22"</span></span>
<span id="cb3-76"><a href="#cb3-76" aria-hidden="true" tabindex="-1"></a>jun22<span class="ot">&lt;-</span>jun22[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">3</span>,<span class="dv">5</span>,<span class="dv">11</span><span class="sc">:</span><span class="dv">34</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>For column 1 to 5, It shows a constant rows names across all the months. Furthermore, I will keep column 6 to 9 for every month as it has done a rowsum across dose 1 and dose 2 for all the categories for us. Take note from march onwards there is dose 3, thus we need to change range from 9 to 10.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># we will repeat this code for all the months but remember we have to change the month name</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>FY21_22Vaccine <span class="ot">&lt;-</span>jul[<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>)]</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>FY21_22Vaccine<span class="ot">&lt;-</span> <span class="fu">left_join</span>(FY21_22Vaccine, aug21, <span class="at">by=</span><span class="st">"KELURAHAN"</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>FY21_22Vaccine<span class="ot">&lt;-</span> <span class="fu">left_join</span>(FY21_22Vaccine, sep21, <span class="at">by=</span><span class="st">"KELURAHAN"</span>)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>FY21_22Vaccine<span class="ot">&lt;-</span> <span class="fu">left_join</span>(FY21_22Vaccine, oct21, <span class="at">by=</span><span class="st">"KELURAHAN"</span>)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>FY21_22Vaccine<span class="ot">&lt;-</span> <span class="fu">left_join</span>(FY21_22Vaccine, nov21, <span class="at">by=</span><span class="st">"KELURAHAN"</span>)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>FY21_22Vaccine<span class="ot">&lt;-</span> <span class="fu">left_join</span>(FY21_22Vaccine, dec21, <span class="at">by=</span><span class="st">"KELURAHAN"</span>)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>FY21_22Vaccine<span class="ot">&lt;-</span> <span class="fu">left_join</span>(FY21_22Vaccine, jan22, <span class="at">by=</span><span class="st">"KELURAHAN"</span>)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>FY21_22Vaccine<span class="ot">&lt;-</span> <span class="fu">left_join</span>(FY21_22Vaccine, feb22, <span class="at">by=</span><span class="st">"KELURAHAN"</span>)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>FY21_22Vaccine<span class="ot">&lt;-</span> <span class="fu">left_join</span>(FY21_22Vaccine, mar22, <span class="at">by=</span><span class="st">"KELURAHAN"</span>)</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>FY21_22Vaccine<span class="ot">&lt;-</span> <span class="fu">left_join</span>(FY21_22Vaccine, apr22, <span class="at">by=</span><span class="st">"KELURAHAN"</span>)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>FY21_22Vaccine<span class="ot">&lt;-</span> <span class="fu">left_join</span>(FY21_22Vaccine, may22, <span class="at">by=</span><span class="st">"KELURAHAN"</span>)</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>FY21_22Vaccine<span class="ot">&lt;-</span> <span class="fu">left_join</span>(FY21_22Vaccine, jun22, <span class="at">by=</span><span class="st">"KELURAHAN"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We will be using FY21_22Vaccine data frame from now on.</p>
<p>After tidying data for aspatial, lets import geospatial data. The projected coordinate system is:</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/pic3.png" class="img-fluid figure-img" width="484"></p>
</figure>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>jakarta <span class="ot">&lt;-</span> <span class="fu">st_read</span>(<span class="at">dsn =</span> <span class="st">"data/geospatial"</span>, </span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">layer =</span> <span class="st">"BATAS_DESA_DESEMBER_2019_DUKCAPIL_DKI_JAKARTA"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">st_transform</span>(<span class="at">crs =</span> <span class="dv">23845</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Reading layer `BATAS_DESA_DESEMBER_2019_DUKCAPIL_DKI_JAKARTA' from data source 
  `C:\yifei-alpaca\IS415-GAA\Take-home_Ex\Take-home_Ex02\data\geospatial' 
  using driver `ESRI Shapefile'
Simple feature collection with 269 features and 161 fields
Geometry type: MULTIPOLYGON
Dimension:     XY
Bounding box:  xmin: 106.3831 ymin: -6.370815 xmax: 106.9728 ymax: -5.184322
Geodetic CRS:  WGS 84</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>jakarta <span class="ot">&lt;-</span> jakarta[<span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">9</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Columns to keep:</p>
<ul>
<li><p>KODE DESA = SUB DISTRICT CODE</p></li>
<li><p>DESA = SUB DISTRICT</p></li>
<li><p>KODE = CODE</p></li>
<li><p>PROVINISI = PROVINCE</p></li>
<li><p>KAB KOTA= NSEW REGION</p></li>
<li><p>KECAMATAN = DISTRICT</p></li>
<li><p>DESA_KELUR = SUB DISTRICT (can be removed same value as DESA)</p></li>
<li><p>JUMLAH_PEN = TOTAL POPULATION</p></li>
</ul>
<p>The jakarta data frame contains population number on a district level. We will do a basic EDA to understand the data more.</p>
</section>
<section id="exploratory-data-analysis-eda" class="level1">
<h1>Exploratory Data Analysis (EDA)</h1>
<p>Let’s plot the population map! And look there are regions that is outside of Jakarta, below we will be excluding them.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qtm</span>(jakarta)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-6-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>As mentioned in the requirement, we should exclude all the outer islands from the DKI Jakarta sf data frame. we can check based on regions, if its not in Jakarta, we should remove them.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(jakarta<span class="sc">$</span>KAB_KOTA)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "JAKARTA BARAT"    "JAKARTA PUSAT"    "KEPULAUAN SERIBU" "JAKARTA UTARA"   
[5] "JAKARTA TIMUR"    "JAKARTA SELATAN"  NA                </code></pre>
</div>
</div>
<p>In the above result, KEPULAUAN SERIBU is the <strong>Thousand Islands</strong> and is a chain of islands to the north of Jakarta’s coast which is out of our analysis interest.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>jakarta<span class="ot">&lt;-</span> <span class="fu">filter</span>(jakarta, KAB_KOTA <span class="sc">!=</span> <span class="st">"KEPULAUAN SERIBU"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Plot the latest data frame</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">qtm</span>(jakarta)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-9-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<section id="joining-the-attribute-data-and-geospatial-data" class="level2">
<h2 class="anchored" data-anchor-id="joining-the-attribute-data-and-geospatial-data">Joining the attribute data and geospatial data</h2>
<p>Before we can perform georelational join, one extra step is required to check which column can be join together. After looking at both dataset, we can join by KODE KELURAHAN in FY21_22Vaccine to CODE_DESA in jakarta dataset.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>jakarta_vaccine <span class="ot">&lt;-</span> <span class="fu">left_join</span>(jakarta, FY21_22Vaccine,</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>                          <span class="at">by =</span> <span class="fu">c</span>(<span class="st">"KODE_DESA"</span> <span class="ot">=</span> <span class="st">"KODE KELURAHAN"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Convert to sf objects</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>jakarta_vaccine <span class="ot">&lt;-</span> <span class="fu">st_as_sf</span>(jakarta_vaccine)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="choropleth-mapping-geospatial-data-using-tmap" class="level1">
<h1>Choropleth Mapping Geospatial Data using tmap</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_mode</span>(<span class="st">"plot"</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="fu">qtm</span>(jakarta_vaccine, </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"KAB_KOTA"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-12-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<ul>
<li><p>BARAT = WEST</p></li>
<li><p>PUSAT = CENTER</p></li>
<li><p>SELATANT = SOUTH</p></li>
<li><p>TIMUR = EAST</p></li>
<li><p>UTARA = NORTH</p></li>
</ul>
<section id="population-choropleth-map" class="level2">
<h2 class="anchored" data-anchor-id="population-choropleth-map">Population choropleth map</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_mode</span>(<span class="st">"plot"</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="fu">qtm</span>(jakarta_vaccine, </span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">fill =</span> <span class="st">"JUMLAH_PEN"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-13-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>As we can see from the graph above, the west side of Jakarta is more dense as compared to the rest of the region. This shows that there are more population in the west area followed by east area.</p>
</section>
<section id="visualizing-dose-1-to-3" class="level2">
<h2 class="anchored" data-anchor-id="visualizing-dose-1-to-3">Visualizing Dose 1 to 3</h2>
<p>Lets visualize our combined data in terms of total dose 1,2 and 3. A basic goal of a classification scheme is to group together similar observations and split apart observations that are substantially different.</p>
<p>Based on the skewness below, we can see that all more positively skewed towards the right which means it is not appropriate to use equal and quartile methods.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>D1_jul21)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.9797892</code></pre>
</div>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>D1_aug21)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.085893</code></pre>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>D1_sep21)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.072417</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>D1_oct21)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.060235</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>D1_nov21)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.070041</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>D1_dec21)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.08138</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>D1_jan22)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.081787</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>D1_feb22)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.083661</code></pre>
</div>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>D1_mar22)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.08686</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>D1_apr22)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.087654</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>D1_may22)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.087841</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>D1_jun22)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.088754</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>D2_jul21)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.8387278</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>D2_aug21)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.9088209</code></pre>
</div>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>D2_sep21)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.015658</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>D2_oct21)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.021767</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>D2_nov21)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.023198</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>D2_dec21)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.018473</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>D2_jan22)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.018324</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>D2_feb22)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.021613</code></pre>
</div>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>D2_mar22)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.019545</code></pre>
</div>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>D2_apr22)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.023047</code></pre>
</div>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>D2_may22)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.023062</code></pre>
</div>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>D2_jun22)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.024074</code></pre>
</div>
</div>
<p>In the following code chunck, I will be using Natural Breaks (Jenks) method and will be classifying into 6 classes for my analysis. Natural Breaks are good for mapping values that are not evenly distributed on a histogram which is is suitable in our case.</p>
<p>The below code is a function to help us iterate multiple times, limiting the amount of large code.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a>jenks_plot <span class="ot">&lt;-</span> <span class="cf">function</span>(df, varname) {</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_shape</span>(jakarta_vaccine) <span class="sc">+</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_polygons</span>() <span class="sc">+</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_shape</span>(df) <span class="sc">+</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_fill</span>(varname, </span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">n=</span> <span class="dv">6</span>,</span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a>          <span class="at">style =</span> <span class="st">"jenks"</span>, </span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">title =</span> <span class="st">"No of people vaccinated"</span>) <span class="sc">+</span></span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_layout</span>(<span class="at">main.title =</span> varname,</span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a>          <span class="at">main.title.position =</span> <span class="st">"center"</span>,</span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a>          <span class="at">main.title.size =</span> <span class="fl">1.2</span>,</span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a>          <span class="at">legend.height =</span> <span class="fl">0.45</span>, </span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a>          <span class="at">legend.width =</span> <span class="fl">0.35</span>,</span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a>          <span class="at">frame =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_borders</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>)</span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Lets visualize the data in months:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_mode</span>(<span class="st">"plot"</span>)</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_arrange</span>(<span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"D1_jul21"</span>),</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"D2_jul21"</span>),</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"D1_aug21"</span>),</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"D2_aug21"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-17-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_arrange</span>(<span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"D1_sep21"</span>),</span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"D2_sep21"</span>),</span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"D1_oct21"</span>),</span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"D2_oct21"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-18-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_arrange</span>(<span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"D1_nov21"</span>),</span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"D2_nov21"</span>),</span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"D1_dec21"</span>),</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"D2_dec21"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-19-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_arrange</span>(<span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"D1_jan22"</span>),</span>
<span id="cb69-2"><a href="#cb69-2" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"D2_jan22"</span>),</span>
<span id="cb69-3"><a href="#cb69-3" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"D1_feb22"</span>),</span>
<span id="cb69-4"><a href="#cb69-4" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"D2_feb22"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-20-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_arrange</span>(<span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"D1_mar22"</span>),</span>
<span id="cb70-2"><a href="#cb70-2" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"D2_mar22"</span>),</span>
<span id="cb70-3"><a href="#cb70-3" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"D1_apr22"</span>),</span>
<span id="cb70-4"><a href="#cb70-4" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"D2_apr22"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-21-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_arrange</span>(<span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"D1_may22"</span>),</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"D2_may22"</span>),</span>
<span id="cb71-3"><a href="#cb71-3" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"D1_jun22"</span>),</span>
<span id="cb71-4"><a href="#cb71-4" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"D2_jun22"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-22-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>As compare the charts above, it is a little hard to visualized. We will be using a gif maker tool to compile the images and see the difference. (<em>this idea credits to our senior megan</em>) <a href="https://ezgif.com/">ezgif</a></p>
<p>The GIF below is for Dose 1 by months. Based on the image, we can see that July 2021 is particularly more dense as compared to other months.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../..\_site/Take-home_Ex/Take-home_Ex02/images/d1/ezgif.com-gif-maker.gif" class="img-fluid figure-img" width="640"></p>
</figure>
</div>
<p>The GIF below shows Dose 2 by months. Based on the image, we can see that July and August 2021 is particularly more dense as compared to other months.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../..\_site/Take-home_Ex/Take-home_Ex02/images/d2/ezgif.com-gif-maker (1).gif" class="img-fluid figure-img"></p>
</figure>
</div>
<p>The GIF below shows Dose 3 by months. Based on the image, we can see that April to Jun 2022 are particularly more dense compared to other months.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../..\_site/Take-home_Ex/Take-home_Ex02/images/d3/ezgif.com-gif-maker.gif" class="img-fluid figure-img"></p>
</figure>
</div>
<p>The COVID-19 vaccination program in Jakarta, Indonesia started on January 13, 2021. The first doses of the vaccine were given to healthcare workers in several hospitals across Jakarta. The vaccination program was rolled out in phases, with priority given to healthcare workers, public service officers, and the elderly population. On 1 April 2021, the Ministry of Health announced the postponement of the vaccination schedule for the general public to June or July because of a vaccine shortage. On 14 July, the daily number of people vaccinated crossed two million mark for the first time. This could probably show that why July 2021 is more dense for Dose 1 and 2. We can see that <strong>Jakarta Barat</strong> which is the <strong>west area</strong> has a higher vaccination rate.</p>
<p>We can also see the difference in Dose 1 and Dose 2 rate, the threshold are much higher for dose 1 as compared to dose 2. One factor is vaccine hesitancy or a lack of access to the second dose. Some individuals may be hesitant to get the second dose due to concerns about side effects, while others may face barriers in accessing the vaccine, such as limited availability or difficulty scheduling appointments.</p>
<p>For Dose 3, we can see an interesting increase dense pattern from April 2022 to Jun 2022. As time goes by, studies have shown that vaccination can increase protection against COVID-19 and its variants, particularly among older adults and those with weakened immune systems. It can help increase the level of antibodies in the body, which can provide added protection against the virus. Thus, this probably drives residents to take booster shots. Another factor could be the government may have expanded the eligibility criteria for booster shots, allowing more people to receive them. Initially, the booster shots were provided to healthcare workers and elderly individuals, but the government may have opened up the booster program to other groups.</p>
</section>
<section id="visualizing-overall-vaccination-rate" class="level2">
<h2 class="anchored" data-anchor-id="visualizing-overall-vaccination-rate">Visualizing Overall Vaccination rate</h2>
<p>Since we have visualized the Dose pattern. Now let’s find out which area has the most number of people who have vaccinated. But before that, we can check the skewness of the data.</p>
<p>Looks like mostly all are more positively skewed towards the right which means it is not appropriate to use equal methods.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>TotalV_jul21)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0.8814528</code></pre>
</div>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>TotalV_aug21)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.005361</code></pre>
</div>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>TotalV_sep21)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.045357</code></pre>
</div>
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>TotalV_oct21)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.041591</code></pre>
</div>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>TotalV_nov21)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.047173</code></pre>
</div>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>TotalV_dec21)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.050825</code></pre>
</div>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>TotalV_jan22)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.050915</code></pre>
</div>
<div class="sourceCode cell-code" id="cb86"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb86-1"><a href="#cb86-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>TotalV_feb22)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.053374</code></pre>
</div>
<div class="sourceCode cell-code" id="cb88"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb88-1"><a href="#cb88-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>TotalV_mar22)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.033162</code></pre>
</div>
<div class="sourceCode cell-code" id="cb90"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb90-1"><a href="#cb90-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>TotalV_apr22)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.0492</code></pre>
</div>
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>TotalV_may22)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.044524</code></pre>
</div>
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">skewness</span>(jakarta_vaccine<span class="sc">$</span>TotalV_jun22)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 1.043669</code></pre>
</div>
</div>
<p>Similar as Dose 1 to 3, we will use Jenks classification methods. Since we have created a function earlier, we can just map it accordingly.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_mode</span>(<span class="st">"plot"</span>)</span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_arrange</span>(<span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"TotalV_jul21"</span>),</span>
<span id="cb96-3"><a href="#cb96-3" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"TotalV_aug21"</span>),</span>
<span id="cb96-4"><a href="#cb96-4" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"TotalV_sep21"</span>),</span>
<span id="cb96-5"><a href="#cb96-5" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"TotalV_oct21"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb97"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb97-1"><a href="#cb97-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_mode</span>(<span class="st">"plot"</span>)</span>
<span id="cb97-2"><a href="#cb97-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_arrange</span>(<span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"TotalV_nov21"</span>),</span>
<span id="cb97-3"><a href="#cb97-3" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"TotalV_dec21"</span>),</span>
<span id="cb97-4"><a href="#cb97-4" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"TotalV_jan22"</span>),</span>
<span id="cb97-5"><a href="#cb97-5" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"TotalV_feb22"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-25-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_mode</span>(<span class="st">"plot"</span>)</span>
<span id="cb98-2"><a href="#cb98-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_arrange</span>(<span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"TotalV_mar22"</span>),</span>
<span id="cb98-3"><a href="#cb98-3" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"TotalV_apr22"</span>),</span>
<span id="cb98-4"><a href="#cb98-4" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"TotalV_may22"</span>),</span>
<span id="cb98-5"><a href="#cb98-5" aria-hidden="true" tabindex="-1"></a>             <span class="fu">jenks_plot</span>(jakarta_vaccine, <span class="st">"TotalV_jun22"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-26-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Let us check for the sub-disrticts with the highest cases rate at the early and later stage.</p>
<p>Early stage:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb99"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb99-1"><a href="#cb99-1" aria-hidden="true" tabindex="-1"></a>jakarta_vaccine<span class="sc">$</span>KELURAHAN[<span class="fu">which.max</span>(jakarta_vaccine<span class="sc">$</span>TotalV_jul21)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "KAPUK"</code></pre>
</div>
</div>
<p>Later stage:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb101"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb101-1"><a href="#cb101-1" aria-hidden="true" tabindex="-1"></a>jakarta_vaccine<span class="sc">$</span>KELURAHAN[<span class="fu">which.max</span>(jakarta_vaccine<span class="sc">$</span>TotalV_jun22)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "KAPUK"</code></pre>
</div>
</div>
<p>Based on the which.max function, it gave us the same results that district KAPUK has the highest vaccination rate consistently.</p>
<p>For curiosity sake, lets find out which has the lowest vaccination rate.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb103"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb103-1"><a href="#cb103-1" aria-hidden="true" tabindex="-1"></a>jakarta_vaccine<span class="sc">$</span>KELURAHAN[<span class="fu">which.min</span>(jakarta_vaccine<span class="sc">$</span>TotalV_jul21)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "GAMBIR"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb105"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb105-1"><a href="#cb105-1" aria-hidden="true" tabindex="-1"></a>jakarta_vaccine<span class="sc">$</span>KELURAHAN[<span class="fu">which.min</span>(jakarta_vaccine<span class="sc">$</span>TotalV_jun22)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "GAMBIR"</code></pre>
</div>
</div>
<p>With the results shown above, we can say that the higher the population, the higher the vaccination rate.</p>
</section>
</section>
<section id="local-gi-analysis" class="level1">
<h1>Local Gi Analysis</h1>
<ul>
<li><p>Compute local Gi* values of the monthly vaccination rate,</p></li>
<li><p>Display the Gi* maps of the monthly vaccination rate. The maps should only display the significant (i.e.&nbsp;p-value &lt; 0.05)<br>
</p></li>
<li><p>With reference to the analysis results, draw statistical conclusions (not more than 250 words).</p></li>
</ul>
<p>Firstly, we need to construct a spatial weights of the study area. The spatial weights is used to define the neighbourhood relationships between the geographical units (i.e.&nbsp;county) in the study area. The below function would build a neighbours list based on regions with contiguous boundaries.</p>
<p>In this TakeHome 2, we will be using Queen contiguity weight matrix. Using a Queen contiguity weight matrix can help to identify clusters of similar values or patterns in a spatial dataset, which has the tendency for nearby geographic units to be more similar to each other than to more distant units.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb107"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb107-1"><a href="#cb107-1" aria-hidden="true" tabindex="-1"></a>jv_q <span class="ot">&lt;-</span> <span class="fu">poly2nb</span>(jakarta, </span>
<span id="cb107-2"><a href="#cb107-2" aria-hidden="true" tabindex="-1"></a>                <span class="at">queen=</span><span class="cn">TRUE</span>)</span>
<span id="cb107-3"><a href="#cb107-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(jv_q)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Neighbour list object:
Number of regions: 261 
Number of nonzero links: 1488 
Percentage nonzero weights: 2.184348 
Average number of links: 5.701149 
Link number distribution:

 2  3  4  5  6  7  8  9 11 
 5 11 45 57 68 40 25  9  1 
5 least connected regions:
87 149 176 178 243 with 2 links
1 most connected region:
174 with 11 links</code></pre>
</div>
</div>
<p>The summary report above shows that there are 261 area units in Jakarta. The most connected area unit has 11 neighbours which is in the West area of Jakarta.There are 5 area units with only one neighbours.</p>
<p>In the below code chuck, we can plot the area to show the neighbours based on the largest number of contiguities.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb109"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb109-1"><a href="#cb109-1" aria-hidden="true" tabindex="-1"></a><span class="co">#neighbour distance</span></span>
<span id="cb109-2"><a href="#cb109-2" aria-hidden="true" tabindex="-1"></a>cards <span class="ot">&lt;-</span> <span class="fu">card</span>(jv_q)</span>
<span id="cb109-3"><a href="#cb109-3" aria-hidden="true" tabindex="-1"></a>maxconts <span class="ot">&lt;-</span> <span class="fu">which</span>(cards <span class="sc">==</span> <span class="fu">max</span>(cards))</span>
<span id="cb109-4"><a href="#cb109-4" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span>(<span class="fu">length</span>(maxconts) <span class="sc">&gt;</span> <span class="dv">1</span>) maxconts <span class="ot">&lt;-</span> maxconts[<span class="dv">1</span>]</span>
<span id="cb109-5"><a href="#cb109-5" aria-hidden="true" tabindex="-1"></a>fg <span class="ot">&lt;-</span> <span class="fu">rep</span>(<span class="st">"grey"</span>, <span class="fu">length</span>(cards))</span>
<span id="cb109-6"><a href="#cb109-6" aria-hidden="true" tabindex="-1"></a>fg[maxconts] <span class="ot">&lt;-</span> <span class="st">"red"</span></span>
<span id="cb109-7"><a href="#cb109-7" aria-hidden="true" tabindex="-1"></a>fg[jv_q[[maxconts]]] <span class="ot">&lt;-</span> <span class="st">"green"</span></span>
<span id="cb109-8"><a href="#cb109-8" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">st_geometry</span>(jakarta_vaccine), <span class="at">col=</span>fg)</span>
<span id="cb109-9"><a href="#cb109-9" aria-hidden="true" tabindex="-1"></a><span class="fu">title</span>(<span class="at">main=</span><span class="st">"Sub District with largest number of contiguities"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-32-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>The code below list all the neighbouring polygons of the ID we call. So for polygon ID 1: 2,39,152, 158 and 166 are all its neighbours. We can find out the name of the ID as well, lets check for the most connected region which is ID 174.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>jv_q[[<span class="dv">174</span>]]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  42  45  47  48  50  52  56  57 113 182 186</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a>jakarta_vaccine<span class="sc">$</span>KELURAHAN[<span class="dv">174</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "KEBON JERUK"</code></pre>
</div>
</div>
<p>We can also check all the list of 261 area neighbours</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(jv_q)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>List of 261
 $ : int [1:5] 2 39 152 158 166
 $ : int [1:6] 1 39 162 163 166 171
 $ : int [1:5] 4 10 110 140 141
 $ : int [1:6] 3 11 110 116 118 130
 $ : int [1:8] 6 9 117 119 121 122 123 158
 $ : int [1:6] 5 7 121 151 158 159
 $ : int [1:8] 6 35 36 121 122 151 159 162
 $ : int [1:5] 119 120 124 125 152
 $ : int [1:9] 5 10 109 117 123 128 129 133 141
 $ : int [1:7] 3 9 109 110 128 140 141
 $ : int [1:7] 4 12 118 130 154 225 226
 $ : int [1:9] 11 127 130 139 222 223 224 225 226
 $ : int [1:9] 14 16 60 64 65 131 132 136 137
 $ : int [1:6] 13 126 129 131 132 133
 $ : int [1:7] 16 53 134 135 137 138 179
 $ : int [1:6] 13 15 60 135 136 137
 $ : int [1:4] 130 139 140 141
 $ : int [1:5] 21 27 28 33 112
 $ : int [1:5] 40 41 143 177 178
 $ : int [1:3] 142 143 144
 $ : int [1:5] 18 26 31 33 112
 $ : int [1:6] 23 25 36 145 146 147
 $ : int [1:9] 22 24 25 28 112 145 146 147 154
 $ : int [1:4] 23 26 112 145
 $ : int [1:3] 22 23 145
 $ : int [1:4] 21 24 112 145
 $ : int [1:6] 18 28 33 148 153 154
 $ : int [1:5] 18 23 27 112 154
 $ : int [1:4] 31 32 149 150
 $ : int [1:8] 40 42 43 48 49 114 144 157
 $ : int [1:4] 21 29 33 150
 $ : int [1:7] 29 33 148 149 150 241 244
 $ : int [1:7] 18 21 27 31 32 148 150
 $ : int [1:6] 35 36 115 117 122 147
 $ : int [1:4] 7 34 36 122
 $ : int [1:9] 7 22 34 35 122 142 147 162 171
 $ : int [1:4] 153 154 220 226
 $ : int [1:6] 41 51 155 156 175 177
 $ : int [1:5] 1 2 158 159 162
 $ : int [1:6] 19 30 41 143 144 157
 $ : int [1:7] 19 38 40 155 156 157 177
 $ : int [1:6] 30 43 48 113 161 174
 $ : int [1:4] 30 42 114 160
 $ : int [1:5] 163 165 166 167 169
 $ : int [1:5] 46 47 52 174 200
 $ : int [1:6] 45 47 57 75 200 221
 $ : int [1:4] 45 46 57 174
 $ : int [1:5] 30 42 49 50 174
 $ : int [1:5] 30 48 50 55 157
 $ : int [1:6] 48 49 55 56 174 186
 $ : int [1:3] 38 175 177
 $ : int [1:6] 45 134 174 179 182 200
 $ : int [1:6] 15 124 138 179 180 182
 $ : int [1:6] 89 96 111 188 228 229
 $ : int [1:5] 49 50 156 157 186
 $ : int [1:5] 50 57 174 183 186
 $ : int [1:7] 46 47 56 174 183 185 221
 $ : int [1:4] 187 190 214 228
 $ : int [1:6] 63 64 184 189 190 191
 $ : int [1:6] 13 16 63 65 136 192
 $ : int [1:8] 62 66 76 134 135 136 192 196
 $ : int [1:5] 61 63 66 189 192
 $ : int [1:7] 59 60 62 64 65 189 192
 $ : int [1:5] 13 59 63 65 191
 $ : int [1:4] 13 60 63 64
 $ : int [1:6] 61 62 67 189 196 211
 $ : int [1:6] 66 189 194 195 196 211
 $ : int [1:8] 71 79 80 83 194 198 210 212
 $ : int [1:5] 71 72 86 193 198
 $ : int [1:8] 71 83 84 99 100 197 217 234
 $ : int [1:7] 68 69 70 83 193 197 198
 $ : int [1:5] 69 85 86 193 197
 $ : int [1:7] 74 75 201 205 206 218 221
 $ : int [1:3] 73 75 221
 $ : int [1:7] 46 73 74 134 200 205 221
 $ : int [1:7] 61 134 135 196 205 207 208
 $ : int [1:4] 86 198 202 203
 $ : int [1:5] 79 81 199 202 210
 $ : int [1:5] 68 78 198 202 210
 $ : int [1:7] 68 81 194 204 206 209 210
 $ : int [1:6] 78 80 199 201 206 210
 $ : int [1:3] 218 219 221
 $ : int [1:5] 68 70 71 84 212
 $ : int [1:6] 70 83 100 212 213 233
 $ : int [1:7] 72 86 101 197 215 217 235
 $ : int [1:7] 69 72 77 85 198 215 216
 $ : int [1:2] 215 216
 $ : int [1:3] 199 201 218
 $ : int [1:7] 54 91 96 111 223 224 229
 $ : int [1:7] 126 127 131 191 224 227 229
 $ : int [1:5] 89 111 222 223 225
 $ : int [1:7] 93 94 103 173 220 238 239
 $ : int [1:4] 92 173 220 225
 $ : int [1:8] 92 95 96 103 111 173 245 250
 $ : int [1:5] 94 96 106 188 250
 $ : int [1:6] 54 89 94 95 111 188
 $ : int [1:4] 230 232 234 254
 $ : int [1:5] 105 230 231 254 261
 $ : int [1:4] 70 100 232 234
  [list output truncated]
 - attr(*, "class")= chr "nb"
 - attr(*, "region.id")= chr [1:261] "1" "2" "3" "4" ...
 - attr(*, "call")= language poly2nb(pl = jakarta, queen = TRUE)
 - attr(*, "type")= chr "queen"
 - attr(*, "sym")= logi TRUE</code></pre>
</div>
</div>
<p>Next, we need to assign weights to each neighboring polygon. The function adds a weights list with values given by the coding scheme style chosen. B is the basic binary coding, W is row standardised (sums over all links to n), C is globally standardised (sums over all links to n), U is equal to C divided by the number of neighbours (sums over all links to unity), while S is the variance-stabilizing coding scheme proposed by Tiefelsdorf et al</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a><span class="co">#this is the weight</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>rsjv_q <span class="ot">&lt;-</span> <span class="fu">nb2listw</span>(jv_q, </span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a>                   <span class="at">style=</span><span class="st">"W"</span>, </span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a>                   <span class="at">zero.policy =</span> <span class="cn">TRUE</span>)</span>
<span id="cb116-5"><a href="#cb116-5" aria-hidden="true" tabindex="-1"></a>rsjv_q</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Characteristics of weights list object:
Neighbour list object:
Number of regions: 261 
Number of nonzero links: 1488 
Percentage nonzero weights: 2.184348 
Average number of links: 5.701149 

Weights style: W 
Weights constants summary:
    n    nn  S0       S1       S2
W 261 68121 261 96.30166 1066.273</code></pre>
</div>
</div>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section"></h2>
<p>Computing Local Gi statistics</p>
<p>Unlike global measures that summarize the overall spatial autocorrelation of the study area in one single value, local measures of spatial association identify local clusters (observations nearby have similar attribute values) or spatial outliers (observations nearby have different attribute values).</p>
<p>In the below section we will then check if we can find the sub district in which the <strong>relatively higher number of vaccination</strong> rate is significantly higher.</p>
<p>we will be using localG() functions to compute the Local Gi statistic.</p>
<p>Local Gi stats allows the detection of a local concentration of high and low values in neighboring objects and studies the statistical significance of that dependence.</p>
<p>The analysis will be conducted with the previous variable (jv_q) and the neighborhood matrix – Queen, row standardized (according to contiguity)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">999</span>)</span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a>localgi_jul21 <span class="ot">&lt;-</span> <span class="fu">local_gstar_perm</span>(jakarta_vaccine<span class="sc">$</span>TotalV_jul21, jv_q, rsjv_q, <span class="at">nsim=</span><span class="dv">39</span>)</span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a>localgi_aug21 <span class="ot">&lt;-</span> <span class="fu">local_gstar_perm</span>(jakarta_vaccine<span class="sc">$</span>TotalV_jul21, jv_q, rsjv_q, <span class="at">nsim=</span><span class="dv">39</span>)</span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a>localgi_sep21 <span class="ot">&lt;-</span> <span class="fu">local_gstar_perm</span>(jakarta_vaccine<span class="sc">$</span>TotalV_jul21, jv_q, rsjv_q, <span class="at">nsim=</span><span class="dv">39</span>)</span>
<span id="cb118-5"><a href="#cb118-5" aria-hidden="true" tabindex="-1"></a>localgi_oct21 <span class="ot">&lt;-</span> <span class="fu">local_gstar_perm</span>(jakarta_vaccine<span class="sc">$</span>TotalV_jul21, jv_q, rsjv_q, <span class="at">nsim=</span><span class="dv">39</span>)</span>
<span id="cb118-6"><a href="#cb118-6" aria-hidden="true" tabindex="-1"></a>localgi_nov21 <span class="ot">&lt;-</span> <span class="fu">local_gstar_perm</span>(jakarta_vaccine<span class="sc">$</span>TotalV_jul21, jv_q, rsjv_q, <span class="at">nsim=</span><span class="dv">39</span>)</span>
<span id="cb118-7"><a href="#cb118-7" aria-hidden="true" tabindex="-1"></a>localgi_dec21 <span class="ot">&lt;-</span> <span class="fu">local_gstar_perm</span>(jakarta_vaccine<span class="sc">$</span>TotalV_jul21, jv_q, rsjv_q, <span class="at">nsim=</span><span class="dv">39</span>)</span>
<span id="cb118-8"><a href="#cb118-8" aria-hidden="true" tabindex="-1"></a>localgi_jan22 <span class="ot">&lt;-</span> <span class="fu">local_gstar_perm</span>(jakarta_vaccine<span class="sc">$</span>TotalV_jul21, jv_q, rsjv_q, <span class="at">nsim=</span><span class="dv">39</span>)</span>
<span id="cb118-9"><a href="#cb118-9" aria-hidden="true" tabindex="-1"></a>localgi_feb22 <span class="ot">&lt;-</span> <span class="fu">local_gstar_perm</span>(jakarta_vaccine<span class="sc">$</span>TotalV_jul21, jv_q, rsjv_q, <span class="at">nsim=</span><span class="dv">39</span>)</span>
<span id="cb118-10"><a href="#cb118-10" aria-hidden="true" tabindex="-1"></a>localgi_mar22 <span class="ot">&lt;-</span> <span class="fu">local_gstar_perm</span>(jakarta_vaccine<span class="sc">$</span>TotalV_jul21, jv_q, rsjv_q, <span class="at">nsim=</span><span class="dv">39</span>)</span>
<span id="cb118-11"><a href="#cb118-11" aria-hidden="true" tabindex="-1"></a>localgi_apr22 <span class="ot">&lt;-</span> <span class="fu">local_gstar_perm</span>(jakarta_vaccine<span class="sc">$</span>TotalV_jul21, jv_q, rsjv_q, <span class="at">nsim=</span><span class="dv">39</span>)</span>
<span id="cb118-12"><a href="#cb118-12" aria-hidden="true" tabindex="-1"></a>localgi_may22 <span class="ot">&lt;-</span> <span class="fu">local_gstar_perm</span>(jakarta_vaccine<span class="sc">$</span>TotalV_jul21, jv_q, rsjv_q, <span class="at">nsim=</span><span class="dv">39</span>)</span>
<span id="cb118-13"><a href="#cb118-13" aria-hidden="true" tabindex="-1"></a>localgi_jun22 <span class="ot">&lt;-</span> <span class="fu">local_gstar_perm</span>(jakarta_vaccine<span class="sc">$</span>TotalV_jul21, jv_q, rsjv_q, <span class="at">nsim=</span><span class="dv">39</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb119"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb119-1"><a href="#cb119-1" aria-hidden="true" tabindex="-1"></a>jv.localGi_jul21 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(jakarta_vaccine,localgi_jul21)</span>
<span id="cb119-2"><a href="#cb119-2" aria-hidden="true" tabindex="-1"></a>jv.localGi_aug21 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(jakarta_vaccine,localgi_aug21)</span>
<span id="cb119-3"><a href="#cb119-3" aria-hidden="true" tabindex="-1"></a>jv.localGi_sep21 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(jakarta_vaccine,localgi_sep21)</span>
<span id="cb119-4"><a href="#cb119-4" aria-hidden="true" tabindex="-1"></a>jv.localGi_oct21 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(jakarta_vaccine,localgi_oct21)</span>
<span id="cb119-5"><a href="#cb119-5" aria-hidden="true" tabindex="-1"></a>jv.localGi_nov21 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(jakarta_vaccine,localgi_nov21)</span>
<span id="cb119-6"><a href="#cb119-6" aria-hidden="true" tabindex="-1"></a>jv.localGi_dec21 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(jakarta_vaccine,localgi_dec21)</span>
<span id="cb119-7"><a href="#cb119-7" aria-hidden="true" tabindex="-1"></a>jv.localGi_jan22 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(jakarta_vaccine,localgi_jan22)</span>
<span id="cb119-8"><a href="#cb119-8" aria-hidden="true" tabindex="-1"></a>jv.localGi_feb22 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(jakarta_vaccine,localgi_feb22)</span>
<span id="cb119-9"><a href="#cb119-9" aria-hidden="true" tabindex="-1"></a>jv.localGi_mar22 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(jakarta_vaccine,localgi_mar22)</span>
<span id="cb119-10"><a href="#cb119-10" aria-hidden="true" tabindex="-1"></a>jv.localGi_apr22 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(jakarta_vaccine,localgi_apr22)</span>
<span id="cb119-11"><a href="#cb119-11" aria-hidden="true" tabindex="-1"></a>jv.localGi_may22 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(jakarta_vaccine,localgi_may22)</span>
<span id="cb119-12"><a href="#cb119-12" aria-hidden="true" tabindex="-1"></a>jv.localGi_jun22 <span class="ot">&lt;-</span> <span class="fu">cbind</span>(jakarta_vaccine,localgi_jun22)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="mapping-local-gi-with-sig-0.5" class="level2">
<h2 class="anchored" data-anchor-id="mapping-local-gi-with-sig-0.5">Mapping Local Gi with sig &lt; 0.5</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_mode</span>(<span class="st">"plot"</span>)</span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a><span class="fu">tm_shape</span>(jv.localGi_jul21) <span class="sc">+</span></span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_polygons</span>() <span class="sc">+</span></span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_shape</span>(jv.localGi_jul21 <span class="sc">%&gt;%</span> <span class="fu">filter</span>(p_value <span class="sc">&lt;</span> <span class="fl">0.05</span>)) <span class="sc">+</span></span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_fill</span>(<span class="at">col=</span> <span class="st">"p_value"</span>,</span>
<span id="cb120-6"><a href="#cb120-6" aria-hidden="true" tabindex="-1"></a>             <span class="at">palette =</span> <span class="st">"Paired"</span>) <span class="sc">+</span></span>
<span id="cb120-7"><a href="#cb120-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_borders</span>(<span class="at">alpha =</span> <span class="fl">0.4</span>) <span class="sc">+</span></span>
<span id="cb120-8"><a href="#cb120-8" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_layout</span>(<span class="at">main.title =</span> <span class="fu">paste</span>(<span class="st">"local Gi p-value &lt;0.05 JUL21"</span>),</span>
<span id="cb120-9"><a href="#cb120-9" aria-hidden="true" tabindex="-1"></a>              <span class="at">main.title.size =</span> <span class="dv">1</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-39-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="create-functions-and-maps" class="level2">
<h2 class="anchored" data-anchor-id="create-functions-and-maps">Create functions and Maps</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb121"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb121-1"><a href="#cb121-1" aria-hidden="true" tabindex="-1"></a>localgi_plot <span class="ot">&lt;-</span> <span class="cf">function</span>(df, varname) {</span>
<span id="cb121-2"><a href="#cb121-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_shape</span>(df) <span class="sc">+</span></span>
<span id="cb121-3"><a href="#cb121-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_polygons</span>() <span class="sc">+</span></span>
<span id="cb121-4"><a href="#cb121-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">tm_shape</span>(df <span class="sc">%&gt;%</span> <span class="fu">filter</span>(p_value <span class="sc">&lt;</span> <span class="fl">0.05</span>)) <span class="sc">+</span></span>
<span id="cb121-5"><a href="#cb121-5" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_fill</span>(varname, </span>
<span id="cb121-6"><a href="#cb121-6" aria-hidden="true" tabindex="-1"></a>          <span class="at">palette =</span> <span class="st">"Paired"</span>) <span class="sc">+</span></span>
<span id="cb121-7"><a href="#cb121-7" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_layout</span>(</span>
<span id="cb121-8"><a href="#cb121-8" aria-hidden="true" tabindex="-1"></a>          <span class="at">legend.height =</span> <span class="fl">0.45</span>, </span>
<span id="cb121-9"><a href="#cb121-9" aria-hidden="true" tabindex="-1"></a>          <span class="at">legend.width =</span> <span class="fl">0.35</span>,</span>
<span id="cb121-10"><a href="#cb121-10" aria-hidden="true" tabindex="-1"></a>          <span class="at">frame =</span> <span class="cn">TRUE</span>) <span class="sc">+</span></span>
<span id="cb121-11"><a href="#cb121-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">tm_borders</span>(<span class="at">alpha =</span> <span class="fl">0.2</span>)</span>
<span id="cb121-12"><a href="#cb121-12" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_arrange</span>(<span class="fu">localgi_plot</span>(jv.localGi_jul21, <span class="st">"p_value"</span>),</span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a>             <span class="fu">localgi_plot</span>(jv.localGi_aug21, <span class="st">"p_value"</span>),</span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a>             <span class="fu">localgi_plot</span>(jv.localGi_sep21, <span class="st">"p_value"</span>),</span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a>             <span class="fu">localgi_plot</span>(jv.localGi_oct21, <span class="st">"p_value"</span>)</span>
<span id="cb122-5"><a href="#cb122-5" aria-hidden="true" tabindex="-1"></a>             )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-41-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb123"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb123-1"><a href="#cb123-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_arrange</span>(<span class="fu">localgi_plot</span>(jv.localGi_nov21, <span class="st">"p_value"</span>),</span>
<span id="cb123-2"><a href="#cb123-2" aria-hidden="true" tabindex="-1"></a>             <span class="fu">localgi_plot</span>(jv.localGi_dec21, <span class="st">"p_value"</span>),</span>
<span id="cb123-3"><a href="#cb123-3" aria-hidden="true" tabindex="-1"></a>             <span class="fu">localgi_plot</span>(jv.localGi_jan22, <span class="st">"p_value"</span>),</span>
<span id="cb123-4"><a href="#cb123-4" aria-hidden="true" tabindex="-1"></a>             <span class="fu">localgi_plot</span>(jv.localGi_feb22, <span class="st">"p_value"</span>)</span>
<span id="cb123-5"><a href="#cb123-5" aria-hidden="true" tabindex="-1"></a>             )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-42-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tmap_arrange</span>(<span class="fu">localgi_plot</span>(jv.localGi_mar22, <span class="st">"p_value"</span>),</span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>             <span class="fu">localgi_plot</span>(jv.localGi_apr22, <span class="st">"p_value"</span>),</span>
<span id="cb124-3"><a href="#cb124-3" aria-hidden="true" tabindex="-1"></a>             <span class="fu">localgi_plot</span>(jv.localGi_may22, <span class="st">"p_value"</span>),</span>
<span id="cb124-4"><a href="#cb124-4" aria-hidden="true" tabindex="-1"></a>             <span class="fu">localgi_plot</span>(jv.localGi_jun22, <span class="st">"p_value"</span>)</span>
<span id="cb124-5"><a href="#cb124-5" aria-hidden="true" tabindex="-1"></a>             )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="Take-home_Ex02_files/figure-html/unnamed-chunk-43-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Let’s put them in to a gif for better comparison</p>
<p><img src="data/images/localgi/ezgif.com-gif-maker.gif" class="img-fluid" width="676"></p>
<p>A tmap above displays the total vaccine parameter by month estimates for vaccination rates in sub district that are statistically significant (<em>p</em> &lt; 0.05); However, based on the tmap above, we can see that Jakarta Barat &amp; Pusat the west &amp; central area has been constantly very significant over a year. As for the grey area, it shows not significant.</p>
</section>
<section id="hot-and-cold-spot-for-local-gi" class="level2">
<h2 class="anchored" data-anchor-id="hot-and-cold-spot-for-local-gi">Hot and Cold Spot for Local Gi</h2>
<ul>
<li><p>Hotspot emerging</p></li>
<li><p>https://gistbok.ucgis.org/bok-topics/2022-quarter-04/local-measures-spatial-association</p></li>
</ul>
<p>In this take home, we will be using <strong>fixed distance</strong>. As refer to the slides deck 7, Prof Kam mention that</p>
<p>” The fixed distance method works well for point data. It is often a good option for polygon data when there is a large variation in polygon size (<strong>very large polygons at the edge of the study area and very small polygons at the center of the study area</strong>, for example), and you want to ensure a consistent scale of analysis.] ”</p>
<p>In Jakarta map, it shows a large polygons at the edge and smaller ones at the center.</p>
<ul>
<li>see the trend by month ( maybe can do interactive map)</li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>