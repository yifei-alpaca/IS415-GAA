---
title: "In-Class Ex02"
date: "`r Sys.Date()`"
author: "Sherry Ng"
format: html
execute: 
  message: false
  warning: false
editor: visual
---

## Getting started

Download 3 R packages:

```{r}
pacman::p_load(sf, tidyverse, funModeling)
```

<br>

Notes to take note of:

-   st\_ refers to spatial and temporal

-   sf, the table with feature attributes and feature geometries, which contains

-   sfc , the list-column with the geometries for each feature (record), which is composed of

-   sfg, the feature geometry of an individual simple feature.

## Importing Geospatial

### The geoBoundaries dataset

```{r}
geoNGA <- st_read("data/geospatial/",
                  layer = "geoBoundaries-NGA-ADM2" ) %>%
  st_transform(crs=26392)
```

<br>

### The NGA dataset

```{r}
NGAadm <- st_read("data/geospatial/",
                  layer = "nga_admbnda_adm2_osgof_20190417" ) %>%
  st_transform(crs=26392)
```

### Importing Aspatial data

```{r}
wp_nga <- read_csv("data/aspatial/WPdx.csv") %>%
  filter(`#clean_country_name` == "Nigeria")
```

### Write the extracted data into rds format

```{r}
saveRDS(wp_nga, file = "data/rsd/wp_nga.RDS") 
```

##  Converting Aspatial Data into Geospatial 

-   st_as_sfc, convert foreign geomerty object to a sfc object.

-   st_as_sf, convert foreign object to an sf object. if dataset contains a column call "geometry", coords will results in overwriting of this column by sfc geometry list column.

```{r}
wp_nga$Geometry = st_as_sfc(wp_nga$`New Georeferenced Column`)
wp_nga
```

-   st_sf, is to create sf object, which extends df-like objects with a simple feature list column.

```{r}
wp_sf <- st_sf(wp_nga, crs=4326)
wp_sf
```

### Project transformation 

check projection

```{r}
st_crs(wp_sf)
```

```{r}
wp_sf <- wp_sf %>%
  st_transform(crs = 26392)
```

```{r}
st_crs(wp_sf)
```
